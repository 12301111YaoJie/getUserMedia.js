/*! getUserMedia - v0.1.0 - 2014-07-21
* https://github.com/addyosmani/getUserMedia.js
* Copyright (c) 2014 addyosmani; Licensed MIT */
(function(e,t){"use strict";e.getUserMedia=function(n,r,i){if(n!==undefined){navigator.getUserMedia_=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(!navigator.getUserMedia_){if(n.noFallback===undefined||n.noFallback===!1){var v,m,g;v='<object id="XwebcamXobjectX" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" data="'+n.swffile+'" width="'+n.width+'" height="'+n.height+'"><param name="movie" value="'+n.swffile+'" /><param name="FlashVars" value="mode='+n.mode+"&amp;quality="+n.quality+'" /><param name="allowScriptAccess" value="always" /></object>',m=t.getElementById(n.el),m.innerHTML=v,function y(s){g=t.getElementById("XwebcamXobjectX"),g.capture!==undefined?(n.capture=function(e){try{return g.capture(e)}catch(t){}},n.save=function(e){try{return g.save(e)}catch(t){}},n.setCamera=function(e){try{return g.setCamera(e)}catch(t){}},n.getCameraList=function(){try{return g.getCameraList()}catch(e){}},n.context="flash",n.onLoad=r):s===0?i():e.setTimeout(y,1e3*(4-s),s-1)}(3)}}else{var s={},o="",u,a,f,l,c,h;n.video===!0&&(s.video=!0,o="video"),n.audio===!0&&(s.audio=!0,o!==""&&(o+=", "),o+="audio"),a=t.getElementById(n.el),f=t.createElement("video"),c=parseInt(a.offsetWidth,10),h=parseInt(a.offsetHeight,10),n.width<c&&n.height<h&&(n.width=c,n.height=h),f.width=n.width,f.height=n.height,f.autoplay=!0,a.appendChild(f),l=f,n.videoEl=l,n.context="webrtc";try{navigator.getUserMedia_(s,r,i)}catch(p){try{navigator.getUserMedia_(o,r,i)}catch(d){return undefined}}}}}})(this,document);